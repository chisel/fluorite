CommentParser=function(){this._registry={},this.register=function(e,i,t){this._registry[e]={type:i,action:t}},this.parse=function(e){Node||(Node={}),Node.COMMENT_NODE||(Node.COMMENT_NODE=8);var i,t,n=[];for(let c=0;c<e.childNodes.length;c++){var s=e.childNodes[c];if(s.nodeType===Node.COMMENT_NODE){var r,o=s.data.trim().match(/([\/a-z0-9-_]+)(:\s*(.+,?)+)?/i);if(!o)continue;o[3]&&(r=o[3].replace(/\s+/g,"").split(","));var l=!1;"/"===(o=o[1].trim()).substr(0,1)&&(l=!0,o=o.slice(1));var a=this._registry[o];if(!a)continue;if("single"===a.type)a.action(s.nextElementSibling,r);else if("block"===a.type){if(l&&t===o){a.action(n,i),t=null,i=null,n=[];continue}t=o,i=r}}else t&&n.push(s)}}};